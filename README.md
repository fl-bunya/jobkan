## これはなに
ジョブカンの自動入力スクリプト。

## 使い方

bunをinstallしておく。  
https://bun.sh/docs/installation

リポジトリをcloneし、諸々をinstall。  
```
git clone git@github.com:fl-bunya/jobkan.git
cd jobkan
bun i
bunx playwright install
```

### .envを用意する（初回）
.env.exampleを参考に、各自で適切な値に書き換える。

### ログインする（セッションがなければ）
```
bun run login          
```
Googleの2FA認証コードは手動で入力する。  
コンソールで`Done`が表示されたら完了。  
cmd+cで終了。  

セッションがstorageState.jsonに保存される。  
セッションが有効な内は、再ログインする必要はない。  

### 交通費の明細を入力する


```
bun run commuting
```

当月以外の明細を作る場合は、年月を引数に渡す。
```
bun run commuting 2025 8
```
コンソールで`Done`が表示されたら終了。  
明細ができたら、そのまま下書き保存や申請などをする。  
cmd+cで終了。

> ⚠️
> .envで設定した出社曜日の明細が作られる。  
> 祝日やイレギュラーな出社は反映されないので、必要であれば手動で修正。

### 工数実績を入力する

事前に、ジョブカン上でデフォルト工数を設定しておく。  
ジョブカン > 勤怠 > 工数管理 > 工数入力設定 > デフォルト と移動し、  
`(999)全商品`と`実績100%`を設定しておく。

上記が済んだ状態で下記を実行。

```
bun run manHour
```

当月以外は、年月を渡す。
```
bun run manHour 2025 8
```
コンソールで`Done`が表示されたら終了。
cmd+cで終了。

> ⚠️
> 実行前に打刻漏れがないか確認。  
> **また、実行によって、対象月全日の既存の入力工数は削除される。**  
> デフォルト工数で上書きするので注意。  